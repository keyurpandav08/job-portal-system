<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
  <meta charset="UTF-8">
  <title>My Applications</title>
  <style>
    body { font-family: Arial, sans-serif; margin: 40px; background: #f5f5f5; }
    .container { max-width: 1000px; margin: 0 auto; background: white; padding: 20px; border-radius: 8px; }
    .nav { margin-bottom: 20px; }
    .btn { padding: 10px 15px; margin: 5px; text-decoration: none; border-radius: 4px; display: inline-block; }
    .btn-primary { background: #007bff; color: white; }
    .application-card { border: 1px solid #ddd; padding: 15px; margin: 10px 0; border-radius: 4px; }
    .status-pending { color: #856404; background: #fff3cd; padding: 5px 10px; border-radius: 3px; display: inline-block; }
    .status-reviewed { color: #004085; background: #cce5ff; padding: 5px 10px; border-radius: 3px; display: inline-block; }
    .status-accepted { color: #155724; background: #d4edda; padding: 5px 10px; border-radius: 3px; display: inline-block; }
    .status-rejected { color: #721c24; background: #f8d7da; padding: 5px 10px; border-radius: 3px; display: inline-block; }
    .alert { padding: 10px; margin: 10px 0; border-radius: 4px; }
    .alert-info { background: #d1ecf1; color: #0c5460; border: 1px solid #bee5eb; }
    .alert-error { background: #f8d7da; color: #721c24; border: 1px solid #f5c6cb; }
    .no-applications { text-align: center; padding: 40px; color: #666; }
  </style>
</head>
<body>
<div class="container">
  <h2>ðŸ“„ My Job Applications</h2>

  <!-- Messages -->
  <div th:if="${message}" class="alert alert-info" th:text="${message}">Info message</div>
  <div th:if="${error}" class="alert alert-error" th:text="${error}">Error message</div>

  <div class="nav">
    <a th:href="@{/dashboard}" class="btn btn-primary">Back to Dashboard</a>
    <a th:href="@{/jobs}" class="btn btn-primary">Browse More Jobs</a>
    <a th:href="@{/logout}" class="btn btn-primary">Logout</a>
  </div>

  <div th:if="${not #lists.isEmpty(applications)}">
    <div th:each="app : ${applications}" class="application-card">
      <h4 th:text="${app.jobTitle}">Job Title</h4>
      <p><strong>Applied On:</strong> <span th:text="${app.appliedAt}">Date</span></p>
      <p><strong>Resume:</strong>
        <a th:href="${app.resumeUrl}" target="_blank" th:text="${app.resumeUrl}">Resume URL</a>
      </p>
      <p><strong>Status:</strong>
        <span th:class="${'status-' + app.status?.toLowerCase()}"
              th:text="${app.status}">PENDING</span>
      </p>
    </div>
  </div>

  <div th:if="${#lists.isEmpty(applications)}" class="no-applications">
    <h3>No Applications Yet</h3>
    <p>You haven't applied to any jobs yet.</p>
    <a th:href="@{/jobs}" class="btn btn-primary">Browse Jobs to Apply</a>
  </div>
</div>
</body>
</html>